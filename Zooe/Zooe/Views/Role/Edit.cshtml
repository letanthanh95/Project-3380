@using Zooe.Views.Role
@model Zooe.Views.Role.EditRole

@{
    var roleLabel = Model.Role;
    ViewBag.Title = "Edit Role";
}

<!DOCTYPE html>

<html>
<head>
    <title>Edit @roleLabel</title>
</head>
<body>

<h1>Edit @roleLabel</h1>

<h1>Update Role</h1>
<a asp-action="Index" class="btn btn-secondary">Back</a>
<div asp-validation-summary="All" class="text-danger"></div>
  
<form method="post">
    <input type="hidden" name="roleName" value="@Model.Role.Name" />
    <input type="hidden" name="roleId" value="@Model.Role.Id" />
      
    <h2>Add To @Model.Role.Name</h2>
    <table class="table table-striped table-bordered">
        @if (Model.Users.Count() == 0)
        {
            <tr><td colspan="2">There are no members.</td></tr>
        }
        else
        {
            @foreach (var user in Model.NonUsers)
            {
                <tr>
                    <td>@user.UserName</td>
                    <td>
                        
                        <input type="checkbox" name="AddIds" value="@user.Id"/>
                    </td>
                </tr>
            }
        }
    </table>
  
    <h2>Remove From @Model.Role.Name</h2>
    <table class="table table-bordered table-sm">
        @if (Model.Users.Count() == 0)
        {
            <tr><td colspan="2">No users are members.</td></tr>
        }
        else
        {
            @foreach (var user in Model.Users)
            {
                <tr>
                    <td>@user.UserName</td>
                    <td>
                        <input type="checkbox" name="DeleteIds" asp-route-id="@user.Id" />
                    </td>
                </tr>
            }
        }
    </table>
    <button type="submit" class="btn btn-primary">Save</button>
</form>

@* <form method="post" class="mt-3"> *@
@*     <div class="form-group row"> *@
@*         <label asp-for="Role.Id" class="col-sm-2 col-form-label">ID</label> *@
@*         <div class="col-sm-10"> *@
@*             <input asp-for="Role.Id" disabled class="form-control"> *@
@*         </div> *@
@*     </div> *@
@*      *@
@*     <div class="form-group row"> *@
@*         <label asp-for="Role.Name" class="col-sm-2 col-form-label"></label> *@
@*         <div class="col-sm-10"> *@
@*             <input asp-for="Role.Name" class="form-control"> *@
@*             <span asp-validation-for="Role.Name" class="text-danger"></span> *@
@*         </div> *@
@*     </div> *@
@*      *@
@*     <div asp-validation-summary="All" class="text-danger"></div> *@
@*      *@
@*     <div class="form-group row"> *@
@*         <div class="col-sm-10"> *@
@*             <button type="submit" class="btn btn-primary">Update</button> *@
@*             <a asp-action="Index" class="btn btn-primary">Cancel</a> *@
@*         </div> *@
@*     </div> *@
@*      *@
@*     <div class="card"> *@
@*         <div class="card-header"> *@
@*             <h3>Users in @roleLabel:</h3> *@
@*         </div> *@
@*          *@
@*         <div class="card-body"> *@
@*             @if (Model.Users.Any()) *@
@*             { *@
@*                 foreach (var user in Model.Users) *@
@*                 { *@
@*                     <h5 class="card-title">@user.UserName</h5> *@
@*                 } *@
@*             } *@
@*             else *@
@*             { *@
@*                 <h5 class="card-title">There are no users in @roleLabel.</h5> *@
@*             } *@
@*         </div> *@
@*          *@
@*         <div class="card-footer"> *@
@*             <a asp-action="Edit" asp-controller="Role"  *@
@*                asp-route-roleId="@Model.Role.Id" class="btn btn-primary" style="width:auto">Add or Remove Users</a> *@
@*         </div> *@
@*     </div> *@
@* </form> *@

</body>
</html>